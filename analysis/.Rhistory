`rawdata.(1)` <- read.csv("C:/Users/18126/Downloads/rawdata (1).csv")
View(`rawdata.(1)`)
rawDragonfly <- rawdata.(1)
rawDragonfly <- `rawdata.(1)`
head(rawDragonfly)
colnames(rawDragonfly)
View(rawDragonfly)
install.packages('plyr')
install.packages('plyr')
install.packages('dplyr')
library('plyr')
library('dplyr')
str(rawDragonfly)
coenigrion <- dplyr::filter(rawDragonfly, GENUS_SPECIES == 'Coenagrion puella')
coenigrion
View(coenigrion)
ischnura <- dplyr::filter(rawDragonfly, GENUS_SPECIES == 'Ischnura elegans')
View(ischnura)
lestes <- dplyr::filter(rawDragonfly, GENUS_SPECIES == 'Lestes sponsa')
libellula <- dplyr::filter(rawDragonfly, GENUS_SPECIES == 'Libellula quadrimaculata')
sympetrum <- dplyr::filter(rawDragonfly, GENUS_SPECIES == 'Sympetrum striolatum')
View(sympetrum)
View(libellula)
View(lestes)
plot(ischnura$ABUNDANCE, sympetrum$ABUNDANCE)
par(mfrow=c(2,3))
plot(ischnura$ABUNDANCE, sympetrum$ABUNDANCE)
plot(ischnura$ABUNDANCE, libellula$ABUNDANCE)
plot(sympetrum$ABUNDANCE, libellula$ABUNDANCE)
View(coenigrion)
ischRoughPlot <- plot(ischnura$YEAR, ischnura$ABUNDANCE)
ischRoughPlot <- plot(ischnura$YEAR, ischnura$ABUNDANCE)
lines(predict(lm(ischRoughPlot~x)),col='green')
lines(predict(lm(ischRoughPlot)),col='green')
ischYear <- ischnura$YEAR
ischAbun <- ischnura$ABUNDANCE
abline(lm(ischAbun ~ ischYear))
ischnuraModel <- abline(lm(ischAbun ~ ischYear))
coef(ischnuraModel)
ischnuraModel <- abline(lm(ischAbun ~ ischYear))
ischnuraModel <- abline(lm(ischAbun ~ ischYear))
?plot.new
plot(ischnura$YEAR, ischnura$ABUNDANCE)
ischnuraModel <- abline(lm(ischAbun ~ ischYear))
coef(ischnuraModel)
?subset
subset(ischnura, select = c(ischnura[,1], ischnura[10]))
subset(ischnura, select = c(ABUNDANCE, YEAR))
getAbundanceYear <- function(dat, x = ABUNDANCE, y = YEAR){
subset(dat, select = c(x, y))
}
getAbundanceYear(ischnura)
getAbundanceYear <- function(dat, x = 'ABUNDANCE', y = 'YEAR'){
subset(dat, select = c(x, y))
}
getAbundanceYear(ischnura)
getAbundanceYear <- function(dat, x = 'ABUNDANCE', y = 'YEAR'){
tmp <- subset(dat, select = c(x, y))
return(tmp)
}
ischnuraAY <- getAbundanceYear(ischnura)
coenigronAY <- getAbundanceYear(coenigron)
lestesAY <- getAbundanceYear(lestes)
libellulaAY <- getAbundanceYear(libellula)
sympetrumAY <- getAbundanceYear(sympetrum)
ischnuraAY <- getAbundanceYear(ischnura)
coenigrionAY <- getAbundanceYear(coenigrion)
lestesAY <- getAbundanceYear(lestes)
libellulaAY <- getAbundanceYear(libellula)
sympetrumAY <- getAbundanceYear(sympetrum)
View(coenigrionAY)
View(ischnuraAY)
View(lestesAY)
View(libellulaAY)
View(libellulaAY)
BioTIMEQuery02_04_2018 <- read.csv("~/GitHub/BioTIMEQuery02_04_2018.zip", sep="")
View(BioTIMEQuery02_04_2018)
library(readxl)
dataset <- read_excel(NULL)
View(dataset)
?read.csv
?setwd
getwd()
rm(BioTIMEQuery02_04_2018)
BioTIMEQuery02_04_2018 <- read.csv("~/GitHub/BioTIMEQuery02_04_2018.csv")
View(BioTIMEQuery02_04_2018)
View(coenigrionAY)
coenigronCompAY <- rbind(row1959, row1960, row1961, row1962, coenigrionAY)
ischnuraCompAY <- rbind(row1959, row1960, row1961, ischnuraAY)
lestesCompAY <- rbind(row1959, row1960, row1961, row1962, row1963, lestesAY)
# libellula will be dealt with differently because it is missing rows within the dataframe
sympetrumCompAY <- rbind(row1959, row1960, row1961, sympetrumAY)
row1959 <- c(0, 1959)
row1960 <- c(0, 1960)
row1961 <- c(0, 1961)
row1962 <- c(0, 1962)
row1963 <- c(0, 1963)
coenigronCompAY <- rbind(row1959, row1960, row1961, row1962, coenigrionAY)
ischnuraCompAY <- rbind(row1959, row1960, row1961, ischnuraAY)
lestesCompAY <- rbind(row1959, row1960, row1961, row1962, row1963, lestesAY)
# libellula will be dealt with differently because it is missing rows within the dataframe
sympetrumCompAY <- rbind(row1959, row1960, row1961, sympetrumAY)
View(coenigronCompAY)
?sort
View(libellulaAY)
row1972 <- c(0, 1972)
row1974 <- c(0, 1974)
prelibellulaCompAY <- rbind(row1960, row1972, row1974, libellulaAY)
View(prelibellulaCompAY)
order(prelibellulaCompAY$YEAR)
check <- order(prelibellulaCompAY$YEAR)
check <- data.frame(order(prelibellulaCompAY$YEAR))
View(check)
check <- dplyr::arrange(prelibellulaCompAY, YEAR)
libellulaCompAY <- dplyr::arrange(prelibellulaCompAY, YEAR)
View(coenigrionAY)
View(coenigronCompAY)
View(ischnuraCompAY)
brachytronAbundance <- c(0,0,0,0,0,0,1,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
length(brachytronAbundance)
brachytronAbundance <- c(0,0,0,0,0,0,0,0,0,1,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
length(brachytronAbundance)
pyrrhosomaAbundance <- c(0,0,3,20,18,5,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
length(pyrrhosomaAbundance)
aeshnaAbundance <- c(0,0,0,0,1,2,3,1,1,2,3,1,5,1,2,0,0,0,1,1,1,0,2,1,1,3,1,2,2,2)
length(aeshnaAbundance)
?rm
rm(BioTIMEQuery02_04_2018)
View(rawDragonfly)
larval_data <- read.csv("~/GitHub/rrirfinalproject/larval_data.csv")
View(larval_data)
bPratenseAbundance <- c(0,0,0,0,0,0,0,0,0,1,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
pNymphulaAbundance <- c(0,0,3,20,18,5,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
aCyaneaAbundance <- c(0,0,0,0,1,2,3,1,1,2,3,1,5,1,2,0,0,0,1,1,1,0,2,1,1,3,1,2,2,2)
cPuella <- dplyr::filter(rawDragonfly, GENUS_SPECIES == 'Coenagrion puella')
iElegans <- dplyr::filter(rawDragonfly, GENUS_SPECIES == 'Ischnura elegans')
lSponsa <- dplyr::filter(rawDragonfly, GENUS_SPECIES == 'Lestes sponsa')
lQuadrimaculata <- dplyr::filter(rawDragonfly, GENUS_SPECIES == 'Libellula quadrimaculata')
sStriolatum <- dplyr::filter(rawDragonfly, GENUS_SPECIES == 'Sympetrum striolatum')
# Make a rough plot to visualize the data
par(mfrow=c(2,3))
plot(iElegans$YEAR, iElegans$ABUNDANCE)
plot(cPuella$YEAR, cPuella$ABUNDANCE)
plot(lSponsa$YEAR, lSponsa$ABUNDANCE)
plot(lQuadrimaculata$YEAR, lQuadrimaculata$ABUNDANCE)
plot(sStriolatum$YEAR, sStriolatum$ABUNDANCE)
iElegansAY <- getAbundanceYear(iElegans)
cPuellaAY <- getAbundanceYear(cPuella)
lSponsaAY <- getAbundanceYear(lSponsa)
lQuadrimaculataAY <- getAbundanceYear(lQuadrimaculata)
sStriolatumAY <- getAbundanceYear(sStriolatum)
cPuellaCompAY <- rbind(row1959, row1960, row1961, row1962, cPuellaAY)
iElegansCompAY <- rbind(row1959, row1960, row1961, iElegansAY)
lSponsaCompAY <- rbind(row1959, row1960, row1961, row1962, row1963, lSponsaAY)
# lQuadrimaculata will be dealt with differently because it is missing rows within the dataframe
sStriolatumCompAY <- rbind(row1959, row1960, row1961, sStriolatumAY)
prelibellulaCompAY <- rbind(row1960, row1972, row1974, lQuadrimaculataAY)
# this will add the rows I want, but now in chronological order
lQuadrimaculataCompAY <- dplyr::arrange(prelibellulaCompAY, YEAR)
View(cPuellaCompAY)
dragonflyYears <- c:(1959:1988)
dragonflyYears <- c(1959:1988)
length(dragonflyYears)
sSanguineumAbundance <- C(0,0,0,0,0,1,0,0,1,0,2,0,0,1,0,0,1,0,1,4,11,3,0,1,9,6,10,4,9,3,4)
sSanguineumAbundance <- C(0,0,0,0,0,1,0,0,1,0,2,0,0,1,0,0,1,0,1,4,11,3,0,1,9,6,10,4,9,3,4)
sSanguineumAbundance <- C(0,0,0,0,0,1,0,0,1,0,2,0,0,1,0,0,1,0,1,4,11,3,0,1,9,6,10,4,9,3,4)
aGrandisAbundance <- c(0,0,0,11)
aGrandisAbundance <- c(0,0,0,0,0,0,0,4,0,1,1,0,2,0,2,0,0,0,1,1,0,1,2,1,0,1,1,4,0,1)
length(aGrandisAbundance)
sSanguineumAbundance <- C(0,0,0,0,0,1,0,0,1,0,2,0,1,0,0,1,0,1,4, 11,3,0,1,9,6,10,4,9,3,4)
sSanguineumAbundance <- C(0,0,0,0,0,1,0,0,1,0,2,0,1,0,0,1,0,1,4, 11, 3, 0, 1, 9, 6, 10, 4, 9, 3, 4)
sSanguineumAbundance <- c(0,0,0,0,0,1,0,0,1,0,2,0,1,0,0,1,0,1,4, 11, 3, 0, 1, 9, 6, 10, 4, 9, 3, 4)
length(sSanguineumAbundance)
bPratenseCompAY <- data.frame(bPratenseAbundance, dragonflyYears)
View(bPratenseCompAY)
bPratenseCompAY <- data.frame(bPratenseAbundance, dragonflyYears)
pNymphulaCompAY <- data.frame(pNymphulaAbundance, dragonflyYears)
aCyaneaCompAY <- data.frame(aCyaneaAbundance, dragonflyYears)
sSanguineumCompAY <- data.frame(sSanguineumAbundance, dragonflyYears)
aGrandisCompAY <- data.frame(aGrandisAbundance, dragonflyYears)
View(rawDragonfly)
getAbundanceYear <- function(dat, x = 'ABUNDANCE', y = 'YEAR', z = 'GENUS_SPECIES'){
tmp <- subset(dat, select = c(x, y, z))
return(tmp)
}
iElegansAY <- getAbundanceYear(iElegans)
cPuellaAY <- getAbundanceYear(cPuella)
lSponsaAY <- getAbundanceYear(lSponsa)
lQuadrimaculataAY <- getAbundanceYear(lQuadrimaculata)
sStriolatumAY <- getAbundanceYear(sStriolatum)
# the current data.frames are different lengths
# this is because the years without observations of the species were not put in as zeroes
# after consultation with Tad Dallas, I will be changing the data.frames to length 27 (observation years) with zeroes for the missing years
row1959 <- c(0, 1959)
row1960 <- c(0, 1960)
row1961 <- c(0, 1961)
row1962 <- c(0, 1962)
row1963 <- c(0, 1963)
row1972 <- c(0, 1972)
row1974 <- c(0, 1974)
cPuellaCompAY <- rbind(row1959, row1960, row1961, row1962, cPuellaAY)
iElegansCompAY <- rbind(row1959, row1960, row1961, iElegansAY)
lSponsaCompAY <- rbind(row1959, row1960, row1961, row1962, row1963, lSponsaAY)
# lQuadrimaculata will be dealt with differently because it is missing rows within the dataframe
sStriolatumCompAY <- rbind(row1959, row1960, row1961, sStriolatumAY)
prelibellulaCompAY <- rbind(row1960, row1972, row1974, lQuadrimaculataAY)
# this will add the rows I want, but now in chronological order
lQuadrimaculataCompAY <- dplyr::arrange(prelibellulaCompAY, YEAR)
View(cPuellaCompAY)
View(larval_data)
View(pNymphulaCompAY)
iEleganSAY <- iElegansAY %>% rename(iElegans_abundance = ABUNDANCE)
iEleganSAY <- dplyr::rename(iElegansAY, iElegans_abundance = ABUNDANCE)
View(iEleganSAY)
getAbundanceYear <- function(dat, x = 'ABUNDANCE', y = 'YEAR'){
tmp <- subset(dat, select = c(x, y, ))
return(tmp)
}
iElegansAY <- getAbundanceYear(iElegans)
cPuellaAY <- getAbundanceYear(cPuella)
lSponsaAY <- getAbundanceYear(lSponsa)
lQuadrimaculataAY <- getAbundanceYear(lQuadrimaculata)
sStriolatumAY <- getAbundanceYear(sStriolatum)
# I want to rename the abundance column with species name to aid comparison and readibility
iEleganSAY <- dplyr::rename(iElegansAY, iElegans_abundance = ABUNDANCE)
getAbundanceYear <- function(dat, x = 'ABUNDANCE', y = 'YEAR'){
tmp <- subset(dat, select = c(x, y))
return(tmp)
}
iElegansAY <- getAbundanceYear(iElegans)
cPuellaAY <- getAbundanceYear(cPuella)
lSponsaAY <- getAbundanceYear(lSponsa)
lQuadrimaculataAY <- getAbundanceYear(lQuadrimaculata)
sStriolatumAY <- getAbundanceYear(sStriolatum)
# I want to rename the abundance column with species name to aid comparison and readibility
iEleganSAY <- dplyr::rename(iElegansAY, iElegans_abundance = ABUNDANCE)
cPuellaSAY <- dplyr::rename(cPuellaAY, cPuella_abundance = ABUNDANCE)
lSponsaSAY <- dplyr::rename(lSponsaAY, lSponsa_abundance = ABUNDANCE)
lQuadrimaculataSAY <- dplyr::rename(lQuadrimaculataAY, lQuadrimaculata_abundance = ABUNDANCE)
sStriolatumSAY <- dplyr::rename(sStriolatumAY, sStriolatum_abundance = ABUNDANCE)
row1959 <- c(0, 1959)
row1960 <- c(0, 1960)
row1961 <- c(0, 1961)
row1962 <- c(0, 1962)
row1963 <- c(0, 1963)
row1972 <- c(0, 1972)
row1974 <- c(0, 1974)
cPuellaCompAY <- rbind(row1959, row1960, row1961, row1962, cPuellaSAY)
iElegansCompAY <- rbind(row1959, row1960, row1961, iElegansSAY)
lSponsaCompAY <- rbind(row1959, row1960, row1961, row1962, row1963, lSponsaSAY)
# lQuadrimaculata will be dealt with differently because it is missing rows within the dataframe
sStriolatumCompAY <- rbind(row1959, row1960, row1961, sStriolatumSAY)
prelibellulaCompAY <- rbind(row1960, row1972, row1974, lQuadrimaculataSAY)
# this will add the rows I want, but now in chronological order
lQuadrimaculataCompAY <- dplyr::arrange(prelibellulaCompAY, YEAR)
iEleganSAY <- dplyr::rename(iElegansAY, iElegans_abundance = ABUNDANCE)
iElegansCompAY <- rbind(row1959, row1960, row1961, iElegansSAY)
iElegansSAY <- dplyr::rename(iElegansAY, iElegans_abundance = ABUNDANCE)
iElegansCompAY <- rbind(row1959, row1960, row1961, iElegansSAY)
View(lSponsaCompAY)
?left_join
join1 <- dplyr::left_join(bpratenseCompAY, pNymphulaCompAY, by='YEAR')
join1 <- dplyr::left_join(bPratenseCompAY, pNymphulaCompAY, by='YEAR')
rlang::last_error()
join1 <- dplyr::left_join(bPratenseCompAY, pNymphulaCompAY, by= NULL)
View(join1)
YEAR <- c(1959:1988)
bPratenseAbundance <- c(0,0,0,0,0,0,0,0,0,1,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
pNymphulaAbundance <- c(0,0,3,20,18,5,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
aCyaneaAbundance <- c(0,0,0,0,1,2,3,1,1,2,3,1,5,1,2,0,0,0,1,1,1,0,2,1,1,3,1,2,2,2)
sSanguineumAbundance <- c(0,0,0,0,0,1,0,0,1,0,2,0,1,0,0,1,0,1,4, 11, 3, 0, 1, 9, 6, 10, 4, 9, 3, 4)
aGrandisAbundance <- c(0,0,0,0,0,0,0,4,0,1,1,0,2,0,2,0,0,0,1,1,0,1,2,1,0,1,1,4,0,1)
bPratenseCompAY <- data.frame(bPratenseAbundance, YEAR)
pNymphulaCompAY <- data.frame(pNymphulaAbundance, YEAR)
aCyaneaCompAY <- data.frame(aCyaneaAbundance, YEAR)
sSanguineumCompAY <- data.frame(sSanguineumAbundance, YEAR)
aGrandisCompAY <- data.frame(aGrandisAbundance, YEAR)
join1 <- dplyr::left_join(bPratenseCompAY, pNymphulaCompAY, by= NULL)
View(join1)
join2 <- dplyr::left_join(join1, aCyaneaCompAY, by = NULL)
View(join2)
bPratenseCompAY2 <- subset(bPratenseCompAY, select = c(2,1))
View(bPratenseCompAY2)
join1 <- dplyr::left_join(bPratenseCompAY2, pNymphulaCompAY, by= NULL)
join2 <- dplyr::left_join(join1, aCyaneaCompAY, by = NULL)
View(join1)
View(join2)
join3 <- dplyr::left_join(join2, sSanguineumCompAY, by = NULL)
View(join3)
join4 <- dplyr::left_join(join3, aGrandisCompAY, by = NULL)
join4 <- dplyr::left_join(join3, aGrandisCompAY, by = NULL)
View(join4)
join5 <- dplyr::left_join(join4, cPuellaCompAY, by = NULL)
View(join5)
join6 <- dplyr::left_join(join5, iElegansCompAY, by = NULL)
join7 <- dplyr::left_join(join6, lSponsaCompAY, by = NULL)
join8 <- dplyr::left_join(join7, lQuadrimaculataCompAY, by = NULL)
fullAbundanceDF <- dplyr::left_join(join8, sStriolatumCompAY, by = NULL)
View(fullAbundanceDF)
plot(fullAbundanceDF, y = 'YEAR')
?rowsum
abundanceSums <- rowSums(fullAbundanceDF[,c(2,3,4,5,6,7,8,9,10,11)])
abundanceSums <- rowSums(fullAbundanceDF[,c(2,3,4,5,6,7,8,9,10,11)])
abundanceSums <- data.frame(rowSums(fullAbundanceDF[,c(2,3,4,5,6,7,8,9,10,11)]))
View(abundanceSums)
colnames(abundanceSums)
